<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Firestore Example</title>
</head>
<body>
    <h1>Firestore User Data</h1>
    <form id="user-form">
        <label for="name">Name:</label>
        <input type="text" id="name" required>
        <label for="email">Email:</label>
        <input type="email" id="email" required>
        <button type="submit">Submit</button>
    </form>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.14.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.14.0/firebase-firestore-compat.js"></script>
    
    <script>
        // Your web app's Firebase configuration
        const firebaseConfig = {
        apiKey: "AIzaSyCp2e7CNo83HwDx_HAVgY_IDh0_KW2Y0HI",
        authDomain: "y-spot-e84ca.firebaseapp.com",
        databaseURL: "https://y-spot-e84ca-default-rtdb.firebaseio.com",
        projectId: "y-spot-e84ca",
        storageBucket: "y-spot-e84ca.appspot.com",
        messagingSenderId: "783996806068",
        appId: "1:783996806068:web:298ca1ddb4dfb7e758c8e1",
        measurementId: "G-TSH2JVYJHR"
    };
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        var db = firebase.firestore();

        // Form submission handler
        document.getElementById('user-form').addEventListener('submit', function(e) {
            e.preventDefault();

            var name = document.getElementById('name').value;
            var email = document.getElementById('email').value;

            db.collection("users").add({
                name: name,
                email: email
            })
            .then((docRef) => {
                console.log("Document written with ID: ", docRef.id);
                alert("User added successfully!");
            })
            .catch((error) => {
                console.error("Error adding document: ", error);
                alert("Error adding user. Please try again.");
            });
        });
    </script>
</body>
</html>