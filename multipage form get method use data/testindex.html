<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Room Booking</title>
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
  <div class="container mt-5">
    <h2>Room Booking</h2>
    <form action="testdetails.html" method="get">
      <div class="row justify-content-center rounded-3">
        <!-- Destination -->
        <div class="form-group col-lg-3 col-md-6 col-sm-12">
          <input type="text" class="form-control" id="location" name="location" placeholder="Enter destination" required>
        </div>
        <!-- Check-in and Check-out Dates -->
        <div class="form-group col-lg-4 col-md-6 col-sm-12">
          <input type="text" class="form-control" id="dates" name="dates" placeholder="Check-in - Check-out" required>
        </div>
        <!-- Combined Input Box for Adults, Children, and Rooms -->
        <div class="form-group col-lg-3 col-md-6 col-sm-12">
          <input type="text" class="form-control" id="guests" name="guests" placeholder="Adults, Children & Rooms" required>
          <div class="dropdown-menu p-3" id="guestsDropdown" aria-labelledby="guestsDropdown" style="display: none;">
            <div class="form-group">
              <label for="adults">Adults</label>
              <div class="input-group">
                <div class="input-group-prepend">
                  <button class="btn btn-outline-secondary btn-minus" type="button" id="adults-minus">-</button>
                </div>
                <input type="number" class="form-control" id="adults" min="0" value="0" required>
                <div class="input-group-append">
                  <button class="btn btn-outline-secondary btn-plus" type="button" id="adults-plus">+</button>
                </div>
              </div>
            </div>
            <div class="form-group">
              <label for="children">Children</label>
              <div class="input-group">
                <div class="input-group-prepend">
                  <button class="btn btn-outline-secondary btn-minus" type="button" id="children-minus">-</button>
                </div>
                <input type="number" class="form-control" id="children" min="0" value="0" required>
                <div class="input-group-append">
                  <button class="btn btn-outline-secondary btn-plus" type="button" id="children-plus">+</button>
                </div>
              </div>
            </div>
            <div class="form-group">
              <label for="rooms">Rooms</label>
              <div class="input-group">
                <div class="input-group-prepend">
                  <button class="btn btn-outline-secondary btn-minus" type="button" id="rooms-minus">-</button>
                </div>
                <input type="number" class="form-control" id="rooms" min="1" value="1" required>
                <div class="input-group-append">
                  <button class="btn btn-outline-secondary btn-plus" type="button" id="rooms-plus">+</button>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- Search Button -->
        <div class="form-group col-lg-2 col-md-6 col-sm-12">
          <button type="submit" class="btn text-light" id="search" style="background-color: #FF1717;">Search</button>
        </div>
      </div>
    </form>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const guestsInput = document.getElementById('guests');
      const guestsDropdown = document.getElementById('guestsDropdown');

      guestsInput.addEventListener('focus', function () {
        guestsDropdown.style.display = 'block';
      });

      guestsInput.addEventListener('blur', function () {
        setTimeout(function () {
          guestsDropdown.style.display = 'none';
        }, 200);
      });

      // Event listeners for buttons
      const updateGuestInput = () => {
        const adults = document.getElementById('adults').value;
        const children = document.getElementById('children').value;
        const rooms = document.getElementById('rooms').value;
        guestsInput.value = `${adults} Adults, ${children} Children, ${rooms} Rooms`;
      };

      document.getElementById('adults-minus').addEventListener('click', function () {
        let value = parseInt(document.getElementById('adults').value);
        if (value > 0) value--;
        document.getElementById('adults').value = value;
        updateGuestInput();
      });

      document.getElementById('adults-plus').addEventListener('click', function () {
        let value = parseInt(document.getElementById('adults').value);
        value++;
        document.getElementById('adults').value = value;
        updateGuestInput();
      });

      document.getElementById('children-minus').addEventListener('click', function () {
        let value = parseInt(document.getElementById('children').value);
        if (value > 0) value--;
        document.getElementById('children').value = value;
        updateGuestInput();
      });

      document.getElementById('children-plus').addEventListener('click', function () {
        let value = parseInt(document.getElementById('children').value);
        value++;
        document.getElementById('children').value = value;
        updateGuestInput();
      });

      document.getElementById('rooms-minus').addEventListener('click', function () {
        let value = parseInt(document.getElementById('rooms').value);
        if (value > 1) value--;
        document.getElementById('rooms').value = value;
        updateGuestInput();
      });

      document.getElementById('rooms-plus').addEventListener('click', function () {
        let value = parseInt(document.getElementById('rooms').value);
        value++;
        document.getElementById('rooms').value = value;
        updateGuestInput();
      });
    });
  </script>

  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>
</html>
